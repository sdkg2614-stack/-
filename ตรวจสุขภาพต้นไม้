<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Smart Farm Dashboard</title>

<!-- Google Font -->
<link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;600&display=swap" rel="stylesheet">

<style>
:root {
    --green: #2ecc71;
    --blue: #1abc9c;
    --dark: #2c3e50;
    --gray: #7f8c8d;
}

body {
    font-family: 'Prompt', sans-serif;
    background: linear-gradient(135deg, #e8f5e9, #e0f7fa);
    margin: 0;
    padding: 20px;
    text-align: center;
}

/* Header */
header {
    margin-bottom: 30px;
}
header h1 {
    color: var(--dark);
    margin-bottom: 5px;
}
header p {
    color: var(--gray);
    font-size: 0.9rem;
}

/* Cards */
.container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 20px;
    max-width: 900px;
    margin: auto;
}

.card {
    background: #ffffff;
    border-radius: 18px;
    padding: 25px 20px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.08);
    transition: transform 0.2s ease;
}
.card:hover {
    transform: translateY(-5px);
}

.icon {
    font-size: 2.5rem;
    margin-bottom: 10px;
}

.card h3 {
    margin: 10px 0;
    color: var(--dark);
}

.value {
    font-size: 2.8rem;
    font-weight: 600;
    color: var(--blue);
}
.unit {
    font-size: 1rem;
    color: var(--gray);
}

/* Status */
.status {
    margin-top: 30px;
    font-size: 0.9rem;
    color: var(--gray);
}
.status span {
    color: var(--green);
    font-weight: 500;
}

/* Footer */
footer {
    margin-top: 40px;
    font-size: 0.8rem;
    color: #aaa;
}
</style>
</head>

<body>

<header>
    <h1>üåø Smart Farm Dashboard</h1>
    <p>‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ü‡∏≤‡∏£‡πå‡∏°‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå (ESP8266 IoT)</p>
</header>

<div class="container">

    <div class="card">
        <div class="icon">üå°Ô∏è</div>
        <h3>‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥</h3>
        <div class="value" id="temp">--</div>
        <div class="unit">¬∞C</div>
    </div>

    <div class="card">
        <div class="icon">üíß</div>
        <h3>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡∏≠‡∏≤‡∏Å‡∏≤‡∏®</h3>
        <div class="value" id="humi">--</div>
        <div class="unit">%</div>
    </div>

    <div class="card">
        <div class="icon">üå±</div>
        <h3>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡πÉ‡∏ô‡∏î‡∏¥‡∏ô</h3>
        <div class="value" id="soil">--</div>
        <div class="unit">%</div>
    </div>

</div>

<div class="status">
    ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î: <span id="time">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</span>
</div>

<footer>
    Smart Farm IoT ¬© 2026
</footer>

<script>
const SCRIPT_URL = "https://script.google.com/macros/s/XXXX/exec";

async function fetchData() {
    try {
        const res = await fetch(SCRIPT_URL + "?action=read");
        const data = await res.json();

        document.getElementById("temp").innerText = data.temp;
        document.getElementById("humi").innerText = data.humi;
        document.getElementById("soil").innerText = data.soil;
        document.getElementById("time").innerText =
            new Date().toLocaleString("th-TH");
    } catch (e) {
        document.getElementById("time").innerText = "‚ùå ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ";
        console.error(e);
    }
}

fetchData();
setInterval(fetchData, 5000);
</script>

</body>
</html>
